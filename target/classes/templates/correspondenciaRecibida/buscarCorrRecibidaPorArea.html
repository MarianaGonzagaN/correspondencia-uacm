<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- Meta, title, CSS, favicons, etc. -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="images/favicon.ico" type="image/ico" />

<title>Control Correspondencia</title>

<!-- Bootstrap -->
<link th:href="@{/vendors/bootstrap/dist/css/bootstrap.css}"
	rel="stylesheet">
<!-- Font Awesome -->
<link th:href="@{/vendors/font-awesome/css/font-awesome.min.css}"
	rel="stylesheet">
<link th:href="@{/fontawesome/css/all.min.css}" rel="stylesheet">
<!-- NProgress -->
<link th:href="@{/vendors/nprogress/nprogress.css}" rel="stylesheet">
<!-- bootstrap-progressbar -->
<link
	th:href="@{/vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css}"
	rel="stylesheet">
<!-- iCheck -->
<link th:href="@{/vendors/iCheck/skins/flat/green.css}" rel="stylesheet">
<!-- Select2 -->
<link th:href="@{/vendors/select2/dist/css/select2.min.css}"
	rel="stylesheet">
<!-- bootstrap-daterangepicker -->
<link
	th:href="@{/vendors/bootstrap-daterangepicker/daterangepicker.css}"
	rel="stylesheet">
<!-- Custom Theme Style -->
<link th:href="@{/build/css/custom.css}" rel="stylesheet">
</head>

<body class="nav-md">
	<div class="container body">
		<div class="main_container">
			<!-- sidebar -->
			<div th:replace="/fragments/sidebar::div"></div>
			<!--fin sidebar -->
			<!-- Navbar -->
			<div th:replace="/fragments/navbar::div"></div>
			<!-- fin nabar -->

			<!-- page content -->
			<div class="right_col" role="main">
				<div class="">
					<div class="page-title">
						<div class="title_left">
							<h3>Buscar correspondencias recibidas</h3>
						</div>
					</div>
					<div class="clearfix"></div>
					<div class="row">

						<div class="col-md-12 col-sm-12">
							<div class="x_panel">
								<div class="x_title">
									<h2>
										Buscar<small></small>
									</h2>
									<ul class="nav navbar-right panel_toolbox">
										<li><a class="collapse-link"><i
												class="fas fa-chevron-up fa-2x"></i></a></li>
									</ul>
									<div class="clearfix"></div>
								</div>
								<div th:if="${msgNombre}" th:text="${msgNombre}"
									th:class="${'alert ' + alertClass}"></div>

								<div class="x_content">

									<ul class="nav nav-tabs bar_tabs" id="myTab" role="tablist">
										<li class="nav-item"><a class="nav-link"
											id="consecutivo-tab" data-toggle="tab" href="#consecutivo"
											role="tab" aria-controls="consecutivo" aria-selected="true">Referencia</a></li>
										<li class="nav-item"><a class="nav-link" id="fecha-tab"
											data-toggle="tab" href="#fecha" role="tab"
											aria-controls="fecha" aria-selected="false">Fecha</a></li>
										<li class="nav-item"><a class="nav-link active" id="area-tab"
											data-toggle="tab" href="#area" role="tab"
											aria-controls="area" aria-selected="true">Area Remitente</a></li>
										<li class="nav-item"><a class="nav-link" id="estado-tab"
											data-toggle="tab" href="#estado" role="tab"
											aria-controls="estado" aria-selected="false">Estado</a></li>
										<li class="nav-item"><a class="nav-link"
											id="prioridad-tab" data-toggle="tab" href="#prioridad"
											role="tab" aria-controls="prioridad" aria-selected="false">Prioridad</a></li>
										<li class="nav-item"><a class="nav-link"
											id="informacion-tab" data-toggle="tab" href="#informacion"
											role="tab" aria-controls="informacion" aria-selected="false">Información</a>
										</li>
									</ul>
									<div class="tab-content" id="myTabContent">
										<!-- inicio pane buscar por nombre -->
										<div class="tab-pane fade show active" id="consecutivo"
											role="tabpanel" aria-labelledby="consecutivo-tab">

											<form th:action="@{/recibida/buscarReferencia}"
												th:object="${correspondenciaEnviada}" method="post">

												<div class="item form-group row ">
													<label class="col-form-label col-md-3 col-sm-3 label-align">Referencia:
														<span class="required">*</span>
													</label>
													<div class="col-md-6 col-sm-6 ">
														<input th:type="text" id="referencia" name="referencia"
															required="required" class="form-control"
															onKeyUp="document.getElementById(this.id).value=document.getElementById(this.id).value.toUpperCase()" />
													</div>
												</div>

												<div class="ln_solid"></div>
												<div class="item form-group">
													<div class="col-md-6 col-sm-6 offset-md-3">
														<button class="btn btn-primary" type="button">Cancelar</button>
														<button class="btn btn-primary" type="reset">Borrar</button>
														<button type="submit" class="btn btn-success">Buscar</button>
													</div>
												</div>

											</form>

										</div>
										<!-- fin pane buscar por nombre -->
										<!-- inicio pane buscar por fecha -->
										<div class="tab-pane fade" id="fecha" role="tabpanel"
											aria-labelledby="fecha-tab">

											<!-- inicio form -->
											<form th:action="@{/recibida/buscarCorrespondencias}"
												method="GET" class="form-horizontal form-label-left">

												<div class="item form-group row ">
													<label class="col-form-label col-md-3 col-sm-3 label-align">Fecha
														inicial: <span class="required">*</span>
													</label>
													<div class="col-md-6 col-sm-6 ">
														<input th:type="date" id="fechaRecepcionStart"
															name="fechaRecepcionStart"
															class="date-picker form-control" required="required" />
													</div>
												</div>

												<div class="item form-group row ">
													<label class="col-form-label col-md-3 col-sm-3 label-align">Fecha
														final: <span class="required">*</span>
													</label>
													<div class="col-md-6 col-sm-6 ">
														<input th:type="date" id="fechaRecepcionEnd"
															name="fechaRecepcionEnd" class="date-picker form-control"
															required="required" />
													</div>
												</div>

												<div class="ln_solid"></div>
												<div class="item form-group">
													<div class="col-md-6 col-sm-6 offset-md-3">
														<button class="btn btn-primary" type="button">Cancelar</button>
														<button class="btn btn-primary" type="reset">Borrar</button>
														<button type="submit" class="btn btn-success">Buscar</button>
													</div>
												</div>

											</form>
											<!-- fin form -->

										</div>
										<!-- fin pane buscar por fecha -->
										<!-- inicio pane buscar por area remitente -->
										<div class="tab-pane fade" id="area" role="tabpanel"
											aria-labelledby="area-tab">

											<!-- inicio form -->
											<form th:action="@{/recibida/buscarPorArea}"
												method="GET" class="form-horizontal form-label-left"
												th:object="${area}">

												<div class="item form-group row ">
													<label class="col-form-label col-md-3 col-sm-3 label-align">Fecha
														inicial: <span class="required">*</span>
													</label>
													<div class="col-md-6 col-sm-6 ">
														<input th:type="date" id="fechaRecepcionStart"
															name="fechaRecepcionStart"
															class="date-picker form-control" required="required" />
													</div>
												</div>

												<div class="item form-group row ">
													<label class="col-form-label col-md-3 col-sm-3 label-align">Fecha
														final: <span class="required">*</span>
													</label>
													<div class="col-md-6 col-sm-6 ">
														<input th:type="date" id="fechaRecepcionEnd"
															name="fechaRecepcionEnd" class="date-picker form-control"
															required="required" />
													</div>
												</div>

												<div class="form-group row">
													<label class="col-form-label col-md-3 col-sm-3 label-align">
														<i class="fas fa-building fa-2x" style="color: #ffbf00"></i></i>&nbsp;Área
														que envía: <span class="required">*</span>
													</label>
													<div class="col-md-9 col-sm-9 ">
														<select th:field="*{id}" id="id" name="id"
															class="form-control" title="Área que envía" data-size="7"
															required="required">
															<option value="0">--</option>
															<option th:each="area : ${listaAreas}"
																th:value="${area.id}" th:utext="${area.nombre}" />
														</select>

													</div>
												</div>

												<div class="ln_solid"></div>
												<div class="item form-group">
													<div class="col-md-6 col-sm-6 offset-md-3">
														<button class="btn btn-primary" type="button">Cancelar</button>
														<button class="btn btn-primary" type="reset">Borrar</button>
														<button type="submit" class="btn btn-success">Buscar</button>
													</div>
												</div>
											</form>
											<!-- fin form -->
											
											<div class="col-md-12 col-sm-12 ">
							<div class="x_panel">
								<div th:if="${msgFecha}" th:text="${msgFecha}"
									th:class="${'alert ' + alertClass}"></div>
								<div class="x_title">
									<h2>
										Lista de correspondencias<small></small>
									</h2>
									<ul class="nav navbar-right panel_toolbox">
										<li><a class="collapse-link"><i
												class="fas fa-chevron-up fa-2x"></i></a></li>
									</ul>
									<div class="clearfix"></div>
								</div>
								<div class="x_content">
									<div class="row">
										<div class="col-sm-12">
											<div class="card-box table-responsive">
												<p class="text-muted font-13 m-b-30"></p>
												<table 
													class="table table-striped table-bordered"
													style="width: 100%">

													<thead>
														<tr>
															<th>Fecha de recepción</th>
															<th>Turno</th>
															<th>Referencia</th>
															<th>Area que envía</th>
															<th>Asunto</th>
															<th>Estado</th>
															<th>Expediente</th>
														</tr>
													</thead>
													<!-- fin de cabecera de la tabla -->


													<tbody>

														<tr th:each="correspondencias : ${correspondenciasPorArea}">
															<td th:text="${correspondencias.fechaRecepcion}"></td>
															<td th:text="${correspondencias.turno}"></td>
															<td th:text="${correspondencias.referenciaDocumento}"></td>
															<td th:text="${correspondencias.idAreaEnvia.nombre}"></td>
															<td th:text="${correspondencias.asunto}"></td>
															<td th:text="${correspondencias.idEstatus.nombre}"></td>
															<td
																th:text="${correspondencias.expediente.nombreExpediente}"></td>
														</tr>

													</tbody>

													<!-- fin de cuerpo de la tabla -->
												</table>
											</div>
										</div>
									</div>
									<!-- fin div row -->
								</div>
								<!-- div contenedor de tabla -->
							</div>
							<!-- fin de div panel -->
						</div>

										</div>
										<!-- fin area remitente-->

										<!-- inicio pane buscar por estatus-->
										<div class="tab-pane fade" id="estado" role="tabpanel"
											aria-labelledby="estado-tab">

											<!-- inicio form -->
											<form th:action="@{/recibida/buscarCorrespondencias}"
												method="GET" class="form-horizontal form-label-left"
												th:object="${estado}">

												<div class="item form-group row ">
													<label class="col-form-label col-md-3 col-sm-3 label-align">Fecha
														inicial: <span class="required">*</span>
													</label>
													<div class="col-md-6 col-sm-6 ">
														<input th:type="date" id="fechaRecepcionStart"
															name="fechaRecepcionStart"
															class="date-picker form-control" required="required" />
													</div>
												</div>

												<div class="item form-group row ">
													<label class="col-form-label col-md-3 col-sm-3 label-align">Fecha
														final: <span class="required">*</span>
													</label>
													<div class="col-md-6 col-sm-6 ">
														<input th:type="date" id="fechaRecepcionEnd"
															name="fechaRecepcionEnd" class="date-picker form-control"
															required="required" />
													</div>
												</div>

												<div class="form-group row">
													<label class="col-form-label col-md-3 col-sm-3 label-align">
														<i class="fas fa-tasks  fa-2x" style="color: #9D2235"></i>&nbsp;Estado: 
														<span class="required">*</span>
													</label>
													<div class="col-md-9 col-sm-9 ">
														<select th:field="*{id}" id="id" name="id"
															class="form-control" title="Estado" data-size="7"
															required="required">
															<option value="0">--</option>
															<option th:each="estado : ${listaEstatus}"
																th:value="${estado.id}" th:utext="${estado.nombre}" />
														</select>

													</div>
												</div>

												<div class="ln_solid"></div>
												<div class="item form-group">
													<div class="col-md-6 col-sm-6 offset-md-3">
														<button class="btn btn-primary" type="button">Cancelar</button>
														<button class="btn btn-primary" type="reset">Borrar</button>
														<button type="submit" class="btn btn-success">Buscar</button>
													</div>
												</div>
											</form>
											</div>
											<!-- fin form busqueda de estatus -->
											<!-- inicio pane buscar por area remitente -->
										<div class="tab-pane fade" id="prioridad" role="tabpanel"
											aria-labelledby="prioridad-tab">

											<!-- inicio form -->
											<form th:action="@{/recibida/buscarCorrespondencias}"
												method="GET" class="form-horizontal form-label-left"
												th:object="${prioridad}">

												<div class="item form-group row ">
													<label class="col-form-label col-md-3 col-sm-3 label-align">Fecha
														inicial: <span class="required">*</span>
													</label>
													<div class="col-md-6 col-sm-6 ">
														<input th:type="date" id="fechaRecepcionStart"
															name="fechaRecepcionStart"
															class="date-picker form-control" required="required" />
													</div>
												</div>

												<div class="item form-group row ">
													<label class="col-form-label col-md-3 col-sm-3 label-align">Fecha
														final: <span class="required">*</span>
													</label>
													<div class="col-md-6 col-sm-6 ">
														<input th:type="date" id="fechaRecepcionEnd"
															name="fechaRecepcionEnd" class="date-picker form-control"
															required="required" />
													</div>
												</div>

												<div class="form-group row">
													<label class="col-form-label col-md-3 col-sm-3 label-align">
														<i class="fas fa-sort-amount-up fa-2x" style="color: #9D2235"></i>&nbsp;Prioridad: <span class="required">*</span>
													</label>
													<div class="col-md-9 col-sm-9 ">
														<select th:field="*{id}" id="id" name="id"
															class="form-control" title="Prioridad" data-size="7"
															required="required">
															<option value="0">--</option>
															<option th:each="prioridad : ${listaPrioridades}"
																th:value="${prioridad.id}" th:utext="${prioridad.nombre}" />
														</select>

													</div>
												</div>

												<div class="ln_solid"></div>
												<div class="item form-group">
													<div class="col-md-6 col-sm-6 offset-md-3">
														<button class="btn btn-primary" type="button">Cancelar</button>
														<button class="btn btn-primary" type="reset">Borrar</button>
														<button type="submit" class="btn btn-success">Buscar</button>
													</div>
												</div>
											</form>
											<!-- fin form busqueda de estatus -->

										</div>
										<div class="tab-pane fade" id="informacion" role="tabpanel"
											aria-labelledby="informacion-tab">
											Las búsquedas se pueden realizar por:
											<ul>
												<li>La referencia de documento de la correspondencia
													recibida.</li>
												<li>Fecha de recepción de las correspondencias.</li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="col-md-12 col-sm-12 ">
							<div class="x_panel">
								<div th:if="${msgFecha}" th:text="${msgFecha}"
									th:class="${'alert ' + alertClass}"></div>
								<div class="x_title">
									<h2>
										Lista de correspondencias<small></small>
									</h2>
									<ul class="nav navbar-right panel_toolbox">
										<li><a class="collapse-link"><i
												class="fas fa-chevron-up fa-2x"></i></a></li>
									</ul>
									<div class="clearfix"></div>
								</div>
								<div class="x_content">
									<div class="row">
										<div class="col-sm-12">
											<div class="card-box table-responsive">
												<p class="text-muted font-13 m-b-30"></p>
												<table 
													class="table table-striped table-bordered"
													style="width: 100%">

													<thead>
														<tr>
															<th>Fecha de recepción</th>
															<th>Turno</th>
															<th>Referencia</th>
															<th>Area que envía</th>
															<th>Asunto</th>
															<th>Estatus</th>
															<th>Expediente</th>
														</tr>
													</thead>
													<!-- fin de cabecera de la tabla -->


													<tbody>

														<tr th:each="correspondencias : ${correspondencias}">
															<td th:text="${correspondencias.fechaRecepcion}"></td>
															<td th:text="${correspondencias.turno}"></td>
															<td th:text="${correspondencias.referenciaDocumento}"></td>
															<td th:text="${correspondencias.idAreaEnvia.nombre}"></td>
															<td th:text="${correspondencias.asunto}"></td>
															<td th:text="${correspondencias.idEstatus.nombre}"></td>
															<td
																th:text="${correspondencias.expediente.nombreExpediente}"></td>
														</tr>

													</tbody>

													<!-- fin de cuerpo de la tabla -->
												</table>
											</div>
										</div>
									</div>
									<!-- fin div row -->
								</div>
								<!-- div contenedor de tabla -->
							</div>
							<!-- fin de div panel -->
						</div>
						<!-- fin de contenedor de tabla -->
						<div class="col-md-12 col-sm-12 ">
							<div class="x_panel">
								<div class="x_title">
									<h2>
										Correspondencia<small></small>
									</h2>
									<ul class="nav navbar-right panel_toolbox">
										<li><a class="collapse-link"><i
												class="fas fa-chevron-up fa-2x"></i></a></li>
									</ul>
									<div class="clearfix"></div>
								</div>
								<div class="x_content">
									<br />
									<div
										th:replace="/correspondenciaRecibida/fragments/formBuscarCorrRec::form">
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- fin div row -->




				</div>
				<!-- fin div -->

			</div>
			<!-- fin page content -->

			<!-- Footer -->
			<div th:replace="/fragments/footer::footer"></div>
		</div>
	</div>



	<!-- jQuery -->
	<script th:src="@{/vendors/jquery/dist/jquery.min.js}"></script>
	<!-- Bootstrap -->
	<script th:src="@{/vendors/bootstrap/dist/js/bootstrap.bundle.min.js}"></script>
	<!-- FastClick -->
	<script th:src="@{/vendors/fastclick/lib/fastclick.js}"></script>
	<!-- NProgress -->
	<script th:src="@{/vendors/nprogress/nprogress.js}"></script>
	<!-- bootstrap-progressbar -->
	<script
		th:src="@{/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js}"></script>
	<!-- iCheck -->
	<script th:src="@{/vendors/iCheck/icheck.min.js}"></script>
	<!-- DateJS -->
	<script th:src="@{/vendors/DateJS/build/date.js}"></script>
	<!-- bootstrap-daterangepicker -->
	<script th:src="@{/vendors/moment/min/moment.min.js}"></script>
	<script
		th:src="@{/vendors/bootstrap-daterangepicker/daterangepicker.js}"></script>
	<!-- jQuery Tags Input -->
	<script th:src="@{/vendors/jquery.tagsinput/src/jquery.tagsinput.js}"></script>
	<!-- Select2 -->
	<script th:src="@{/vendors/select2/dist/js/select2.full.min.js}"></script>
	<!-- Autosize -->
	<script th:src="@{/vendors/autosize/dist/autosize.min.js}"></script>
	<!-- Datatables -->
	<script th:src="@{/vendors/datatables.net/js/jquery.dataTables.min.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-buttons/js/dataTables.buttons.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-buttons/js/buttons.flash.min.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-buttons/js/buttons.html5.min.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-buttons/js/buttons.print.min.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-responsive/js/dataTables.responsive.min.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js}"></script>
	<script
		th:src="@{/vendors/datatables.net-scroller/js/dataTables.scroller.min.js}"></script>
	<script th:src="@{/vendors/jszip/dist/jszip.min.js}"></script>
	<script th:src="@{/vendors/pdfmake/build/pdfmake.min.js}"></script>
	<script th:src="@{/vendors/pdfmake/build/vfs_fonts.js}"></script>

	<!-- Custom Theme Scripts -->
	<script th:src="@{/build/js/custom.js}"></script>
</body>





</html>
